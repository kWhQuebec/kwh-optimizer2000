#!/bin/sh

echo "ğŸ” Pre-commit: Running tests..."

# Run vitest (tests critiques seulement â€” pas de timeout long)
npx vitest run --bail 1 2>&1

# Check exit code
if [ $? -ne 0 ]; then
    echo "âŒ Tests Ã©chouÃ©s â€” commit bloquÃ©"
    echo "   Corrigez les erreurs avant de committer."
    exit 1
fi

echo "âœ… Tests passÃ©s â€” commit autorisÃ©"
